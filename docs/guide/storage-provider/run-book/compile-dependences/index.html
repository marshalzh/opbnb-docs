<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guide/storage-provider/run-book/compile-dependences">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">SP Compiling and Dependencies | BNB Optimistic Rollup</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/opbnb-docs/docs/guide/storage-provider/run-book/compile-dependences"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SP Compiling and Dependencies | BNB Optimistic Rollup"><meta data-rh="true" name="description" content="Compile SP"><meta data-rh="true" property="og:description" content="Compile SP"><link data-rh="true" rel="icon" href="/opbnb-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/guide/storage-provider/run-book/compile-dependences"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/guide/storage-provider/run-book/compile-dependences" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/guide/storage-provider/run-book/compile-dependences" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/opbnb-docs/blog/rss.xml" title="BNB Optimistic Rollup RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/opbnb-docs/blog/atom.xml" title="BNB Optimistic Rollup Atom Feed"><link rel="stylesheet" href="/opbnb-docs/assets/css/styles.cbba8081.css">
<link rel="preload" href="/opbnb-docs/assets/js/runtime~main.caf89853.js" as="script">
<link rel="preload" href="/opbnb-docs/assets/js/main.29781c01.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/opbnb-docs/"><div class="navbar__logo"><img src="/opbnb-docs/img/logo.svg" alt="BNB Optimistic Rollup" class="themedImage_ToTc themedImage--light_HNdA"><img src="/opbnb-docs/img/logo.svg" alt="BNB Optimistic Rollup" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">BNB Optimistic Rollup</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_BDYx"><div class="docItemContainer_oq1c"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SP Compiling and Dependencies</h1></header><div class="row"><div class="col col--12"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="compile-sp">Compile SP<a class="hash-link" href="#compile-sp" title="Direct link to heading">​</a></h2><p>Compilation dependencies:</p><ul><li><a href="https://go.dev/dl" target="_blank" rel="noopener noreferrer">Golang</a>: SP is written in Golang, you need to install it. Golang version requires <code>1.20+</code>.</li><li><a href="https://buf.build/docs/installation/" target="_blank" rel="noopener noreferrer">Buf</a>: A new way of working with Protocol Buffers. SP uses Buf to manage proto files.</li><li><a href="https://github.com/cosmos/gogoproto" target="_blank" rel="noopener noreferrer">protoc-gen-gocosmos</a>: Protocol Buffers for Go with Gadgets. SP uses this protobuf compiler to generate pb.go files.</li><li><a href="https://github.com/golang/mock" target="_blank" rel="noopener noreferrer">mockgen</a>: A mocking framework for the Go programming language that is used in unit test.</li><li><a href="https://stedolan.github.io/jq/" target="_blank" rel="noopener noreferrer">jq</a>: Command-line JSON processor. Users should install jq according to your operating system.</li></ul><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># clone source code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/bnb-chain/greenfield-storage-provider.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> greenfield-storage-provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># install dependent tools: buf, protoc-gen-gogofaster and mockgen</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> install-tools</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># compile sp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># move to build directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># execute gnfd-sp binary file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./gnfd-sp version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># show the gnfd-sp version information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Greenfield Storage Provider</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __                                                       _     __</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _____/ /_____  _________ _____ ____     ____  _________ _   __</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">___/ /__  _____</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    / ___/ __/ __ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">/ ___/ __  / __  / _ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">   / __ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">/ ___/ __ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> / / / __  / _ </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">/ ___/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">__  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> /_/ /_/ / /  / /_/ / /_/ /  __/  / /_/ / /  / /_/ / </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">/ / / /_/ /  __/ /</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /____/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">__/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">____/_/   </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">__,_/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">__, /</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">___/  / .___/_/   </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">____/</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">___/_/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">__,_/</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">___/_/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /____/       /_/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Version </span><span class="token builtin class-name">:</span><span class="token plain"> vx.x.x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Branch  </span><span class="token builtin class-name">:</span><span class="token plain"> master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Commit  </span><span class="token builtin class-name">:</span><span class="token plain"> 342930b89466c15653af2f3695cfc72f6466d4b8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Build   </span><span class="token builtin class-name">:</span><span class="token plain"> go1.20.3 darwin arm64 </span><span class="token number" style="color:#36acaa">2023</span><span class="token plain">-05-16 </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:31</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># show the gnfd-sp help info</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./gnfd-sp -h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="note">Note<a class="hash-link" href="#note" title="Direct link to heading">​</a></h3><p>If you&#x27;ve already executed <code>make install-tools</code> command in your shell, but you failed to make build and encountered one of the following error messages:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># error message 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">buf: </span><span class="token builtin class-name">command</span><span class="token plain"> not found</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># you can execute the following command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GO111MODULE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on </span><span class="token assign-left variable" style="color:#36acaa">GOBIN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/local/go/bin go </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> github.com/bufbuild/buf/cmd/buf@v1.17.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># error message 2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Failure: plugin gocosmos: could not </span><span class="token function" style="color:#d73a49">find</span><span class="token plain"> protoc plugin </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> name gocosmos - please </span><span class="token function" style="color:#d73a49">make</span><span class="token plain"> sure protoc-gen-gocosmos is installed and present on your </span><span class="token environment constant" style="color:#36acaa">$PATH</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># you can execute the fowllowing command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GO111MODULE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on </span><span class="token assign-left variable" style="color:#36acaa">GOBIN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/local/go/bin go </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> github.com/cosmos/gogoproto/protoc-gen-gocosmos@latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># if you want to execute unit test of sp, you should execute the following command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">GO111MODULE</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">on </span><span class="token assign-left variable" style="color:#36acaa">GOBIN</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/usr/local/go/bin go </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> github.com/golang/mock/mockgen@v1.6.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sp-dependencies">SP Dependencies<a class="hash-link" href="#sp-dependencies" title="Direct link to heading">​</a></h2><p>If a user wants to start SP in local mode or testnet mode, you must prepare <code>SPDB</code>, <code>BSDB</code> and <code>PieceStore</code> dependencies.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="spdb-and-bsdb">SPDB and BSDB<a class="hash-link" href="#spdb-and-bsdb" title="Direct link to heading">​</a></h3><p>SP uses <a href="/opbnb-docs/docs/guide/storage-provider/services/spdb">SPDB</a> and <a href="/opbnb-docs/docs/guide/storage-provider/services/bsdb">BSDB</a> to store some matadata such as object info, object integrity hash, etc. These two DBs now use <code>RDBMS</code> to complete corresponding function.</p><p>Users now can use <code>MySQL</code> or <code>MariaDB</code> to store metadata.The following lists the supported RDBMS:</p><ol><li><a href="https://www.mysql.com/" target="_blank" rel="noopener noreferrer">MySQL</a></li><li><a href="https://mariadb.org/" target="_blank" rel="noopener noreferrer">MariaDB</a></li></ol><p>More types of database such as <code>PostgreSQL</code> or NewSQL will be supported in the future.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="piecestore">PieceStore<a class="hash-link" href="#piecestore" title="Direct link to heading">​</a></h3><p>Greenfield is a decentralized data storage system which uses object storage as the main data storage system. SP encapsulates data storage as <a href="/opbnb-docs/docs/guide/storage-provider/services/piece-store">PieceStore</a> which provides common interfaces to be compatible with multiple data storage systems. Therefore, if a user wants to join SP or test the function of SP, you must use a data storage system.</p><p>The following lists the supported data storage systems:</p><ol><li><a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener noreferrer">AWS S3</a>: An object storage can be used in production environment.</li><li><a href="https://min.io/" target="_blank" rel="noopener noreferrer">MinIO</a>: An object storage can be used in production environment which is compatible with AWS S3.</li><li><a href="https://en.wikipedia.org/wiki/POSIX" target="_blank" rel="noopener noreferrer">POSIX Filesystem</a>: Local filesystem is used for experiencing the basic features of SP and understanding how SP works. The piece data created by SP cannot be getted within the network and can only be used on a single machine.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="install-dependencies">Install Dependencies<a class="hash-link" href="#install-dependencies" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="install-mysql-in-centos">Install MySQL in CentOS<a class="hash-link" href="#install-mysql-in-centos" title="Direct link to heading">​</a></h4><ol><li>Install MySQL yum package</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># 1. Download MySQL yum package</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> http://repo.mysql.com/mysql57-community-release-el7-10.noarch.rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 2. Install MySQL source</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> -Uvh mysql57-community-release-el7-10.noarch.rpm</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 3. Install public key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">rpm</span><span class="token plain"> --import https://repo.mysql.com/RPM-GPG-KEY-mysql-2022</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 4. Install MySQL server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yum </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y mysql-community-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 5. Start MySQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl start mysqld.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 6. Check whether the startup is successful</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemctl status mysqld.service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 7. Get temporary password</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">grep</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;temporary password&#x27;</span><span class="token plain"> /var/log/mysqld.log </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 8. Login MySQL through temporary password</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># After you log in with the temporary password, do not perform any other operations. Otherwise, an error will occur. In this case, you need to change the password</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql -uroot -p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 9. change MySQL password rules</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin class-name">set</span><span class="token plain"> global </span><span class="token assign-left variable" style="color:#36acaa">validate_password_policy</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin class-name">set</span><span class="token plain"> global </span><span class="token assign-left variable" style="color:#36acaa">validate_password_length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mysql</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> ALTER </span><span class="token environment constant" style="color:#36acaa">USER</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;root&#x27;</span><span class="token plain">@</span><span class="token string" style="color:#e3116c">&#x27;localhost&#x27;</span><span class="token plain"> IDENTIFIED BY </span><span class="token string" style="color:#e3116c">&#x27;yourpassword&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bnb-chain/opbnb-docs/docs/guide/storage-provider/run-book/compile-dependences.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#compile-sp" class="table-of-contents__link toc-highlight">Compile SP</a><ul><li><a href="#note" class="table-of-contents__link toc-highlight">Note</a></li></ul></li><li><a href="#sp-dependencies" class="table-of-contents__link toc-highlight">SP Dependencies</a><ul><li><a href="#spdb-and-bsdb" class="table-of-contents__link toc-highlight">SPDB and BSDB</a></li><li><a href="#piecestore" class="table-of-contents__link toc-highlight">PieceStore</a></li><li><a href="#install-dependencies" class="table-of-contents__link toc-highlight">Install Dependencies</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/opbnb-docs/assets/js/runtime~main.caf89853.js"></script>
<script src="/opbnb-docs/assets/js/main.29781c01.js"></script>
</body>
</html>