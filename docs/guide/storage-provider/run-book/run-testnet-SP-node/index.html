<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guide/storage-provider/run-book/run-testnet-SP-node">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Run Testnet SP Node | BNB Optimistic Rollup</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/opbnb-docs/docs/guide/storage-provider/run-book/run-testnet-SP-node"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Run Testnet SP Node | BNB Optimistic Rollup"><meta data-rh="true" name="description" content="This guide helps you to set up a Storage Provider and add it to Greenfield testnet."><meta data-rh="true" property="og:description" content="This guide helps you to set up a Storage Provider and add it to Greenfield testnet."><link data-rh="true" rel="icon" href="/opbnb-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/guide/storage-provider/run-book/run-testnet-SP-node"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/guide/storage-provider/run-book/run-testnet-SP-node" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/guide/storage-provider/run-book/run-testnet-SP-node" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/opbnb-docs/blog/rss.xml" title="BNB Optimistic Rollup RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/opbnb-docs/blog/atom.xml" title="BNB Optimistic Rollup Atom Feed"><link rel="stylesheet" href="/opbnb-docs/assets/css/styles.cbba8081.css">
<link rel="preload" href="/opbnb-docs/assets/js/runtime~main.caf89853.js" as="script">
<link rel="preload" href="/opbnb-docs/assets/js/main.29781c01.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/opbnb-docs/"><div class="navbar__logo"><img src="/opbnb-docs/img/logo.svg" alt="BNB Optimistic Rollup" class="themedImage_ToTc themedImage--light_HNdA"><img src="/opbnb-docs/img/logo.svg" alt="BNB Optimistic Rollup" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">BNB Optimistic Rollup</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_BDYx"><div class="docItemContainer_oq1c"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Run Testnet SP Node</h1></header><div class="row"><div class="col col--12"><p>This guide helps you to set up a Storage Provider and add it to Greenfield testnet.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="recommended-prerequisites">Recommended Prerequisites<a class="hash-link" href="#recommended-prerequisites" title="Direct link to heading">​</a></h2><p>The following lists the recommended hardware requirements:</p><ul><li>VPS running recent versions of Mac OS X, Linux, or Windows；</li><li>16 cores of CPU, 64 GB of memory(RAM);</li><li>1 Gbps network connection with upload/download speeds of 10MB/s+；</li><li>At least 1 TB disk space for backend storage;</li><li>50GB+ SQL database;</li><li>Piece Store: AWS S3, MinIO(Beta);</li><li>5 Greenfield accounts with enough BNB tokens.</li></ul><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>Each storage provider will hold 5 different accounts serving different purposes:</p><ul><li>Operator Account(<strong>cold wallet</strong>): Used to edit the information of the StorageProvider. Please make sure it have enough BNB to deposit the create storage provider proposal(1 BNB) and pay the gas fee of EditStorageProvider transaction.</li><li>Funding Account(<strong>hot wallet</strong>): Used to deposit staking tokens and receive earnings. It is important to ensure that there is enough money in this account, and the user must submit a deposit as a guarantee. At least 1000+ BNB are required for staking.</li><li>Seal Account(<strong>hot wallet</strong>): Used to seal the user&#x27;s object. Please make sure it has enough BNB to pay the gas fee of SealObject transaction.</li><li>Approval Account(<strong>cold wallet</strong>): Used to approve user&#x27;s requests. This account does not require holding BNB tokens.</li><li>GC Account(<strong>cold wallet</strong>): It is a special address for sp and is used by sp to clean up local expired or unwanted storage. Please make sure it has enough BNB tokens beacuse it&#x27;s going to keep sending transactions up the chain.</li></ul><p>You can use the below command to generate this five accounts:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> operator --keyring-backend os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> funding --keyring-backend os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> seal --keyring-backend os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> approval --keyring-backend os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> gc --keyring-backend os</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>and then export the private key to prepare for SP deployment</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token builtin class-name">export</span><span class="token plain"> operator --unarmored-hex --unsafe  --keyring-backend os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token builtin class-name">export</span><span class="token plain"> funding --unarmored-hex --unsafe  --keyring-backend os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token builtin class-name">export</span><span class="token plain"> seal --unarmored-hex --unsafe --keyring-backend os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token builtin class-name">export</span><span class="token plain"> approval --unarmored-hex --unsafe --keyring-backend os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys </span><span class="token builtin class-name">export</span><span class="token plain"> gc --unarmored-hex --unsafe --keyring-backend os</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-storage-provider">Create Storage Provider<a class="hash-link" href="#create-storage-provider" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-compile-sp">1. Compile SP<a class="hash-link" href="#1-compile-sp" title="Direct link to heading">​</a></h3><p><a href="/opbnb-docs/docs/guide/storage-provider/run-book/compile-dependences#compile-sp">Compile SP doc</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-configuration">2. Configuration<a class="hash-link" href="#2-configuration" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="make-configuration-template">Make configuration template<a class="hash-link" href="#make-configuration-template" title="Direct link to heading">​</a></h4><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> greenfield-storage-provider/build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># dump default configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./gnfd-sp config.dump</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="edit-configuration">Edit configuration<a class="hash-link" href="#edit-configuration" title="Direct link to heading">​</a></h4><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># start service list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Service = [&quot;gateway&quot;, &quot;uploader&quot;, &quot;downloader&quot;, &quot;challenge&quot;, &quot;tasknode&quot;, &quot;receiver&quot;, &quot;signer&quot;, &quot;blocksyncer&quot;, &quot;metadata&quot;, &quot;manager&quot;, &quot;stopserving&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># sp operator address </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SpOperatorAddress = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># service endpoint for other to connect</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[Endpoint]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">challenge = &quot;localhost:9333&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">downloader = &quot;localhost:9233&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gateway = &quot;gnfd.test-sp.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata = &quot;localhost:9733&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p = &quot;localhost:9833&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">receiver = &quot;localhost:9533&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signer = &quot;localhost:9633&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tasknode = &quot;localhost:9433&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uploader = &quot;localhost:9133&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># service listen address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ListenAddress]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">challenge = &quot;localhost:9333&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">downloader = &quot;localhost:9233&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gateway = &quot;localhost:9033&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">metadata = &quot;localhost:9733&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p2p = &quot;localhost:9833&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">receiver = &quot;localhost:9533&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">signer = &quot;localhost:9633&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tasknode = &quot;localhost:9433&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uploader = &quot;localhost:9133&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># SQL configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[SpDBConfig]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User = &quot;root&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passwd = &quot;test_pwd&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address = &quot;localhost:3306&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Database = &quot;storage_provider_db&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># BsDB configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[BsDBConfig]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passwd = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Database = &quot;block_syncer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># BsDBSwitched configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[BsDBSwitchedConfig]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">User = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Passwd = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Address = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Database = &quot;block_syncer_backup&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># piece store configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[PieceStoreConfig]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Shards = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[PieceStoreConfig.Store]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># default use local file system </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Storage = &quot;file&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BucketURL = &quot;./data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># greenfiel chain configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[ChainConfig]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ChainID = &quot;greenfield_5600-1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[[ChainConfig.NodeAddr]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GreenfieldAddresses = [&quot;gnfd-fullnode-public-testnet-a-fullnode.gnfd-fullnode-testnet.svc.cluster.local:9090&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TendermintAddresses = [&quot;https://gnfd-testnet-fullnode-tendermint-us.bnbchain.org:443&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># signer configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[SignerCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GRPCAddress = &quot;localhost:9633&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APIKey = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WhitelistCIDR = [&quot;127.0.0.1/32&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GasLimit = 210000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OperatorPrivateKey = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FundingPrivateKey = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SealPrivateKey = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ApprovalPrivateKey = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GcPrivateKey = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># block syncer configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># signer configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[BlockSyncerCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Modules = [&quot;epoch&quot;, &quot;bucket&quot;, &quot;object&quot;, &quot;payment&quot;, &quot;permission&quot;, &quot;group&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Dsn = &quot;root:passwd@tcp(localhost:3306)/block_syncer?parseTime=true&amp;multiStatements=true&amp;loc=Local&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RecreateTables = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EnableDualDB = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DsnSwitched = &quot;root:passwd@tcp(localhost:3306)/block_syncer_backup?parseTime=true&amp;multiStatements=true&amp;loc=Local&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Workers = 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># p2p node configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[P2PCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListenAddress = &quot;127.0.0.1:9933&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># p2p node msg Secp256k1 encryption key, it is different from other SP&#x27;s addresses</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># P2PPrivateKey and node_id is generated by ./gnfd-sp p2p.create.key -n 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">P2PPrivateKey = &quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># p2p node&#x27;s bootstrap node, format: [node_id1@ip1:port1, node_id2@ip1:port2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Bootstrap = [&quot;16Uiu2HAkvgrSt4oUNZ8rWe2qpimLDajyqD6Ca7LV7n9FkzzPNDQh@k8s-gftestne-p2pexter-bc25ac70bc-a31e9596d87054c3.elb.us-east-1.amazonaws.com:9933&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PingPeriod = 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># log configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[LogCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Level = &quot;info&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Path = &quot;./gnfd-sp.log&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># metrics configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[MetricsCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enabled = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HTTPAddress = &quot;localhost:24036&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># pprof configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[PProfCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enabled = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HTTPAddress = &quot;localhost:25341&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># rate limiter configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[RateLimiter]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">APILimits = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HostPattern = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PathPattern = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[RateLimiter.HTTPLimitCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">On = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RateLimit = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RatePeriod = &quot;S&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># bandwidth limiter configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[BandwidthLimiter]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enable = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">R = 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">B = 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># stop serving configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[DiscontinueCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BucketKeepAliveDays = 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># metadata configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[MetadataCfg]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IsMasterDB = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">BsDBSwitchCheckIntervalSec = 30</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-start">3. Start<a class="hash-link" href="#3-start" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># start sp</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./gnfd-sp --config </span><span class="token variable" style="color:#36acaa">${config_file_path}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-storage-provider-to-greenfield-testnet">Add Storage Provider to Greenfield testnet<a class="hash-link" href="#add-storage-provider-to-greenfield-testnet" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-authorization">1. Authorization<a class="hash-link" href="#1-authorization" title="Direct link to heading">​</a></h3><p>Before creating the storage provider, it is necessary to allow the module account of the gov module to deduct the tokens from the funding account specified by the SP, because the addition of CreateStorageProvider requires submitting a proposal to the gov module, and only after enough validators approve can the SP be truly created on the chain and provide services externally. The address of the gov module account is <code>0x7b5Fe22B5446f7C62Ea27B8BD71CeF94e03f3dF2</code>.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd keys show operator --keyring-backend os </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd tx sp grant 0x7b5Fe22B5446f7C62Ea27B8BD71CeF94e03f3dF2 --spend-limit 100000000000000000000BNB --SPAddress </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">operatorAddress</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> --from funding --keyring-backend os --node https://gnfd-testnet-fullnode-tendermint-us.bnbchain.org:443 </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above command requires the funding account of the SP to send the transaction to allow the gov module to have the permission to deduct tokens from the funding account of SP which specified by operator address</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-submit-proposal">2. submit-proposal<a class="hash-link" href="#2-submit-proposal" title="Direct link to heading">​</a></h3><p>The SP needs to initiate an on-chain proposal that specifies the Msg information to be automatically executed after the vote is approved. In this case, the Msg is <code>MsgCreateStorageProvider</code>. It&#x27;s worth noting that the deposit tokens needs to be greater than the minimum deposit tokens specified on the chain.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd tx gov submit-proposal path/to/create_sp.json --from operator --keyring-backend os --node https://gnfd-testnet-fullnode-tendermint-us.bnbchain.org:443</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># create_sp.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./create_sp.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;messages&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;@type&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;/bnbchain.greenfield.sp.MsgCreateStorageProvider&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;description&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;moniker&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;sp0&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;identity&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;website&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;security_contact&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;details&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;sp_address&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;{operate_address}&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;funding_address&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;{funding_address}&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;seal_address&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;{seal_address}&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;approval_address&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;{approval_address}&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;endpoint&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://sp0.greenfield.io&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;deposit&quot;</span><span class="token plain">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;denom&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;BNB&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token string" style="color:#e3116c">&quot;amount&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;10000000000000000000000&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;read_price&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.060000000000000000&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;store_price&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.019000000000000000&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;free_read_quota&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;creator&quot;</span><span class="token builtin class-name">:</span><span class="token string" style="color:#e3116c">&quot;0x7b5Fe22B5446f7C62Ea27B8BD71CeF94e03f3dF2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;metadata&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;4pIMOgIGx1vZGU=&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Create &lt;name&gt; Validator&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;summary&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;create &lt;name&gt; validator&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;deposit&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1000000000000000000BNB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-deposit-tokens-to-the-proposal">3. deposit tokens to the proposal<a class="hash-link" href="#3-deposit-tokens-to-the-proposal" title="Direct link to heading">​</a></h3><p>Each proposal needs to have enough tokens deposited to enter the voting stage.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd tx gov deposit </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">proposal_id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 1BNB --from sp0 --keyring-backend os --node https://gnfd-testnet-fullnode-tendermint-us.bnbchain.org:443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-wait-voting-and-check-voting-result">4. Wait voting and check voting result<a class="hash-link" href="#4-wait-voting-and-check-voting-result" title="Direct link to heading">​</a></h3><p>After submitting the proposal successfully, you must wait for the voting to be completed and the proposal to be approved. It will last 7days on mainnet while 1 day on testnet. Once it has passed and is executed successfully, you can verify that the storage provider has been joined.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Please ensure that the storage provider service is running before it has been joined.</p></div></div><p>You can check the on-chain SP information to confirm whether the SP has been successfully created.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd query sp storage-providers --node https://gnfd-testnet-fullnode-tendermint-us.bnbchain.org:443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Alternatively, you can check the proposal to know about its execution status.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./build/bin/gnfd query gov proposal </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">proposal_id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> --node https://gnfd-testnet-fullnode-tendermint-us.bnbchain.org:443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deposit">Deposit<a class="hash-link" href="#deposit" title="Direct link to heading">​</a></h2><p>This command is used for the SP to supplement collateral, because if the service status of the SP is not good during operation, it will be slashed by users, resulting in the deduction of its deposit tokens.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gnfd tx sp deposit </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">sp-address</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="editstorageprovider">EditStorageProvider<a class="hash-link" href="#editstorageprovider" title="Direct link to heading">​</a></h2><p>This command is used to edit the information of the SP, including endpoint, description and .etc.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gnfd tx sp edit-storage-provider </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">sp-address</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">flags</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bnb-chain/opbnb-docs/docs/guide/storage-provider/run-book/run-testnet-SP-node.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#recommended-prerequisites" class="table-of-contents__link toc-highlight">Recommended Prerequisites</a></li><li><a href="#create-storage-provider" class="table-of-contents__link toc-highlight">Create Storage Provider</a><ul><li><a href="#1-compile-sp" class="table-of-contents__link toc-highlight">1. Compile SP</a></li><li><a href="#2-configuration" class="table-of-contents__link toc-highlight">2. Configuration</a></li><li><a href="#3-start" class="table-of-contents__link toc-highlight">3. Start</a></li></ul></li><li><a href="#add-storage-provider-to-greenfield-testnet" class="table-of-contents__link toc-highlight">Add Storage Provider to Greenfield testnet</a><ul><li><a href="#1-authorization" class="table-of-contents__link toc-highlight">1. Authorization</a></li><li><a href="#2-submit-proposal" class="table-of-contents__link toc-highlight">2. submit-proposal</a></li><li><a href="#3-deposit-tokens-to-the-proposal" class="table-of-contents__link toc-highlight">3. deposit tokens to the proposal</a></li><li><a href="#4-wait-voting-and-check-voting-result" class="table-of-contents__link toc-highlight">4. Wait voting and check voting result</a></li></ul></li><li><a href="#deposit" class="table-of-contents__link toc-highlight">Deposit</a></li><li><a href="#editstorageprovider" class="table-of-contents__link toc-highlight">EditStorageProvider</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/opbnb-docs/assets/js/runtime~main.caf89853.js"></script>
<script src="/opbnb-docs/assets/js/main.29781c01.js"></script>
</body>
</html>