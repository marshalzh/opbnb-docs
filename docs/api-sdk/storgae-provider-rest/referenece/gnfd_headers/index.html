<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-api-sdk/storgae-provider-rest/referenece/gnfd_headers">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Greenfield SP RESTful APIs Headers | BNB Optimistic Rollup</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://your-docusaurus-test-site.com/opbnb-docs/docs/api-sdk/storgae-provider-rest/referenece/gnfd_headers"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Greenfield SP RESTful APIs Headers | BNB Optimistic Rollup"><meta data-rh="true" name="description" content="Authorization header"><meta data-rh="true" property="og:description" content="Authorization header"><link data-rh="true" rel="icon" href="/opbnb-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/api-sdk/storgae-provider-rest/referenece/gnfd_headers"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/api-sdk/storgae-provider-rest/referenece/gnfd_headers" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-test-site.com/opbnb-docs/docs/api-sdk/storgae-provider-rest/referenece/gnfd_headers" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/opbnb-docs/blog/rss.xml" title="BNB Optimistic Rollup RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/opbnb-docs/blog/atom.xml" title="BNB Optimistic Rollup Atom Feed"><link rel="stylesheet" href="/opbnb-docs/assets/css/styles.cbba8081.css">
<link rel="preload" href="/opbnb-docs/assets/js/runtime~main.caf89853.js" as="script">
<link rel="preload" href="/opbnb-docs/assets/js/main.29781c01.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/opbnb-docs/"><div class="navbar__logo"><img src="/opbnb-docs/img/logo.svg" alt="BNB Optimistic Rollup" class="themedImage_ToTc themedImage--light_HNdA"><img src="/opbnb-docs/img/logo.svg" alt="BNB Optimistic Rollup" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">BNB Optimistic Rollup</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_BDYx"><div class="docItemContainer_oq1c"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Greenfield SP RESTful APIs Headers</h1></header><div class="row"><div class="col col--12"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authorization-header">Authorization header<a class="hash-link" href="#authorization-header" title="Direct link to heading">​</a></h2><p><code>Authortization</code> header is an array which contains four parts: authentication type, encryption algorithm type, signed message and signature. The following will be explained separately.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authentication-type">Authentication type<a class="hash-link" href="#authentication-type" title="Direct link to heading">​</a></h3><p>Authentication type represents which authentication mode the users want to use. Now there are three supported authentication modes: <code>authTypeV1</code>, <code>PersonalSign</code>, <code>OffChainAuth</code>.</p><p><code>authTypeV1</code> require users to use <code>private key</code> for authentication. This mode is used in <code>greenfield-go-sdk</code>. We recommend users using this mode when calling Greenfield SP RESTful APIs.</p><p><code>PersonalSign</code> is used for verify wallet personal signature from a certain dapp website, which is not able to access users&#x27; <code>private key</code> but can interact with users by using wallets.</p><p><code>OffChainAuth</code> Once the dapp and user setup the &quot;off chain auth&quot; user account key in SPs (see <a href="https://greenfield.bnbchain.org/docsguide/storage-provider/services/auth.html" target="_blank" rel="noopener noreferrer">details</a>) , users can communicate with SP without needing to make any explicit signature for most interactions (e.g. download private files, get SP approvals when create objects/buckets)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="encryption-algorithm-type">Encryption algorithm type<a class="hash-link" href="#encryption-algorithm-type" title="Direct link to heading">​</a></h3><p>Greenfield SP RESTful APIs use <code>ECDSA-secp256k1</code> to sign <code>SignedMsg</code> field to get <code>Signature</code> field. Users can refer these two libraries to generate <code>Signature</code> field:</p><ul><li><a href="https://github.com/cosmos/cosmos-sdk/tree/main/crypto/keys/secp256k1" target="_blank" rel="noopener noreferrer">secp256k1</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-step-of-generating-authorization-header">The step of generating authorization header<a class="hash-link" href="#the-step-of-generating-authorization-header" title="Direct link to heading">​</a></h3><ol><li>Create a canonical request
Create a canonical request by concatenating the following strings, separated by newline characters. This helps ensure that the signature that you calculate and the signature that Greenfield SP calculates can match.</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HTTPMethod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CanonicalUri</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CanonicalQueryString</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CanonicalHeaders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SignedHeaders</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>HTTPMethod: The HTTP method.</li><li>CanonicalUri: The URI-encoded version of the absolute path component URL (everything between the host and the question mark character (?) that starts the query string parameters). If the absolute path is empty, use a forward slash character <code>/</code>.</li><li>CanonicalQueryString – The URL-encoded query string parameters, separated by ampersands (&amp;). Percent-encode reserved characters, including the space character. Encode names and values separately. If there are empty parameters, append the equals sign to the parameter name before encoding. After encoding, sort the parameters alphabetically by key name. If there is no query string, use an empty string <code>&quot;&quot;</code>.</li><li>CanonicalHeaders – The request headers, that will be signed, and their values, separated by newline characters. Header names must use lowercase characters, must appear in alphabetical order, and must be followed by a colon <code>:</code>. For the values, trim any leading or trailing spaces, convert sequential spaces to a single space, and separate the values for a multi-value header using commas. You must include the host header (HTTP/1.1) or any x-gnfd-* headers in the signature. You can optionally include other standard headers in the signature, such as content-type.</li><li>SignedHeaders – The list of headers that you included in CanonicalHeaders, separated by semicolons <code>;</code>. This indicates which headers are part of the signing process. Header names must use lowercase characters and must appear in alphabetical order.</li></ul><ol start="2"><li><p>Create a hash of the canonical request
First create a hash (digest) of the canonical request using <code>sha256</code> algorithm. The hash of the canonical request is a slice of byte. Second use <code>Keccak256</code> algorithm to get Keccak256 hash and convert this to lowercase hexadecimal characters.</p></li><li><p>Calculate the signature
After you create the string to sign, you are ready to calculate the signature for the authentication information that you&#x27;ll add to your request. Use your private key, <a href="https://github.com/cosmos/cosmos-sdk/tree/main/crypto/keys/secp256k1" target="_blank" rel="noopener noreferrer">secp256k1</a> to generate Signature.And you should convert this to lowercase hexadecimal characters.</p></li></ol><p>SP verifies the Authortization signature content to obtain the sender&#x27;s address and check the sender&#x27;s permission. <a href="https://github.com/ethereum/go-ethereum/tree/master/crypto/secp256k1" target="_blank" rel="noopener noreferrer">Ethereum-secp256k1</a> lib provides two functions: RecoverPubkey and VerifySignature that helps recover user address and whether data has been tampered with.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authorization-header-example">Authorization header example<a class="hash-link" href="#authorization-header-example" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Authorization </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> auth_type + </span><span class="token string" style="color:#e3116c">&quot;ECDSA-secp256k1 &quot;</span><span class="token plain"> + string-to-sign + </span><span class="token string" style="color:#e3116c">&quot;:&quot;</span><span class="token plain"> + Signature</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">string-to-sign </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> crypto.Keccak256</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sha256</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">canonical request</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Signature </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> privateKey.secp256k1-Sign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">string-to-sign</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Authorization: authTypeV1 ECDSA-secp256k1, </span><span class="token assign-left variable" style="color:#36acaa">SignedMsg</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">70d03c8d65eb304fefc6d358168db4cfe9305a82dae54bb6a8dc4fbfa7461ca2, </span><span class="token assign-left variable" style="color:#36acaa">Signature</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">53e2f098411c5df46b71111337a5cf48bf254ba4a8516996445626619c4f10ac57a5ba081154272ed9e0334a338db39bf74f6de0f3c252fd27890fb81cffd29d00</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-examples-in-greenfield-go-sdk">Code examples in Greenfield Go SDK<a class="hash-link" href="#code-examples-in-greenfield-go-sdk" title="Direct link to heading">​</a></h3><p>The Greenfield Go SDK includes source code on GitHub that shows how to sign Greenfield SP API requests.</p><ul><li><a href="https://github.com/bnb-chain/greenfield-go-sdk/blob/develop/client/api_client.go#L477" target="_blank" rel="noopener noreferrer">SignRequest</a></li><li><a href="https://github.com/bnb-chain/greenfield-common/blob/master/go/http/gen_sign_str.go#L87" target="_blank" rel="noopener noreferrer">MsgToSign</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="x-gnfd-unsigned-msg-header">X-Gnfd-Unsigned-Msg header<a class="hash-link" href="#x-gnfd-unsigned-msg-header" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="createbucket-approval">CreateBucket approval<a class="hash-link" href="#createbucket-approval" title="Direct link to heading">​</a></h3><p>When users send a <code>CreateBucket approval</code> request, the request data is encoded in X-Gnfd-Unsigned-Msg header. CreateBucket approval conatins <a href="/opbnb-docs/docs/api-sdk/storgae-provider-rest/common/get_approval_header#msgcreatebucket">7 fields</a>. Users should provide the creator address, bucketName and primary SP address. The other fields is optional. Users should verify the content of <code>CreateBucket approval</code> request. MsgCreateBucket encodes in <code>protobuf json</code> format and converts to lowercase hexadecimal characters.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="createbucket-approval-unsigned-msg-example">CreateBucket approval unsigned msg example<a class="hash-link" href="#createbucket-approval-unsigned-msg-example" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Suppose the user wants to make a create bucket request as follows:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">creator </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x14539343413EB47899B0935287ab1111Df891d04&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bucketName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gnfd1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">visibility </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VISIBILITY_TYPE_PRIVATE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">paymentAddress </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x8e424c6Db42Ad9A5d91b24e20b5f603eC70abbA3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">primarySpAddress </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x21c6ff21DD7012DE1CCf9055f2eB234A44a1d3fB&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expiredHeight </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chargedReadQuota </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Use protobuf json marshal to get json string, the result is:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bucket_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gnfd1&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;charged_read_quota&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;64&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;creator&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x14539343413EB47899B0935287ab1111Df891d04&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;payment_address&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x8e424c6Db42Ad9A5d91b24e20b5f603eC70abbA3&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;primary_sp_address&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x21c6ff21DD7012DE1CCf9055f2eB234A44a1d3fB&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;primary_sp_approval&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;expired_height&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;sig&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;visibility&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VISIBILITY_TYPE_PRIVATE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Users should convert json string to byte array. Then convert byte array to get lowercase hexadecimal string result and the result will be put into X-Gnfd-Unsigned-Msg header.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X-Gnfd-Unsigned-Msg: 7b226275636b65745f6e616d65223a22676e666431222c22636861726765645f726561645f71756f7461223a223634222c2263726561746f72223a22307831343533393334333431334542343738393942303933353238376162313131314466383931643034222c227061796d656e745f61646472657373223a22307838653432346336446234324164394135643931623234653230623566363033654337306162624133222c227072696d6172795f73705f61646472657373223a22307832316336666632314444373031324445314343663930353566326542323334413434613164336642222c227072696d6172795f73705f617070726f76616c223a7b22657870697265645f686569676874223a2230222c22736967223a6e756c6c7d2c227669736962696c697479223a225649534942494c4954595f545950455f50524956415445227d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="createbucket-code-examples-in-greenfield-go-sdk">CreateBucket code examples in Greenfield Go SDK<a class="hash-link" href="#createbucket-code-examples-in-greenfield-go-sdk" title="Direct link to heading">​</a></h3><ul><li><a href="https://github.com/bnb-chain/greenfield-go-sdk/blob/develop/client/api_bucket.go#LL113" target="_blank" rel="noopener noreferrer">CreateBucket</a></li><li><a href="https://github.com/bnb-chain/greenfield-go-sdk/blob/develop/client/api_bucket.go#L64" target="_blank" rel="noopener noreferrer">GetCreateBucketApproval</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="createobject-approval">CreateObject approval<a class="hash-link" href="#createobject-approval" title="Direct link to heading">​</a></h3><p>When users send a <code>CreateObject approval</code> request, the request data is encoded in X-Gnfd-Unsigned-Msg header. CreateObject approval conatins <a href="/opbnb-docs/docs/api-sdk/storgae-provider-rest/common/get_approval_header#msgcreateobject">10 fields</a>. Users should provide the creator address, bucketName, objectName and payload data. The other fields is optional. Users should verify the content of <code>CreateObject approval</code> request. MsgCreateObject encodes in protobuf json format and converts to lowercase hexadecimal characters.</p><ul><li><a href="https://github.com/bnb-chain/greenfield-go-sdk/blob/develop/client/api_object.go#L98" target="_blank" rel="noopener noreferrer">CreateObject</a></li><li><a href="https://github.com/bnb-chain/greenfield-go-sdk/blob/develop/client/api_object.go#L526" target="_blank" rel="noopener noreferrer">GetCreateObjectApproval</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="createobject-approval-unsigned-msg-example">CreateObject approval unsigned msg example<a class="hash-link" href="#createobject-approval-unsigned-msg-example" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Suppose the user wants to make a create object request as follows:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">creator </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x14539343413EB47899B0935287ab1111Df891d04&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bucketName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gnfd1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">objectName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;myobject&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">payloadSize </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2048</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">visibility </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VISIBILITY_TYPE_PRIVATE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contentType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;image/jpeg&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expiredHeight </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sig </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expectChecksums </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/v6ljJzIDPXduF53SkOdi8bt7GK73pVTDwq4N8qwbo8=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;BCp9ZKWB7y7pg/IQWIAcw1ZjtwXmxV9i+o4PGOzHCYk=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;TJ/iTQh4vyxmW8Ovpcr8ake9L0zm6GrTObhOKhgG+vY=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;QW7N9tm0i+ZajFEHIwSRbkUyq7BltN/WNCvGdzNec+Q=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;GKjb5A/cXxNx7L/c9P+xjfBXfZ1J6rffla3mdVy3Piw=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;oc09LXqM8jZcIEqFyxrFBD6qO5yNGGRvLntN01U753g=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;R4/dCYCqjlIdjmvaou1lGCIL245jsmlWWAG2qREa01M=&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">expectSecondarySpAddresses </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;0xf040BaaD4966842dAF83a536048a25Cf8eFF9ea0&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xC117E319CE0C54C1C5F0e3E59B6647c5a5F0c3a8&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0x6dE810250b34059657e2C820D675232a9D884659&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xca807A58caF20B6a4E3eDa3531788179E5bc816b&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0x20Bb76D063a6d2B18B6DaBb2aC985234a4B9eDe0&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xa35eD99A0b4D26Bf7F74DC9D81FbfAB6A7f103Df&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Users should convert json string to byte array. Then convert byte array to get lowercase hexadecimal string result and the result will be put into X-Gnfd-Unsigned-Msg header.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bucket_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gnfd1&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;content_type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;image/jpeg&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;creator&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x14539343413EB47899B0935287ab1111Df891d04&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;expect_checksums&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/v6ljJzIDPXduF53SkOdi8bt7GK73pVTDwq4N8qwbo8=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;BCp9ZKWB7y7pg/IQWIAcw1ZjtwXmxV9i+o4PGOzHCYk=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;TJ/iTQh4vyxmW8Ovpcr8ake9L0zm6GrTObhOKhgG+vY=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;QW7N9tm0i+ZajFEHIwSRbkUyq7BltN/WNCvGdzNec+Q=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;GKjb5A/cXxNx7L/c9P+xjfBXfZ1J6rffla3mdVy3Piw=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;oc09LXqM8jZcIEqFyxrFBD6qO5yNGGRvLntN01U753g=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;R4/dCYCqjlIdjmvaou1lGCIL245jsmlWWAG2qREa01M=&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;expect_secondary_sp_addresses&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;0xf040BaaD4966842dAF83a536048a25Cf8eFF9ea0&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xC117E319CE0C54C1C5F0e3E59B6647c5a5F0c3a8&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0x6dE810250b34059657e2C820D675232a9D884659&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xca807A58caF20B6a4E3eDa3531788179E5bc816b&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0x20Bb76D063a6d2B18B6DaBb2aC985234a4B9eDe0&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xa35eD99A0b4D26Bf7F74DC9D81FbfAB6A7f103Df&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;object_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;myobject&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;payload_size&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2048&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;primary_sp_approval&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;expired_height&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;sig&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;redundancy_type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;REDUNDANCY_EC_TYPE&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;visibility&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VISIBILITY_TYPE_PRIVATE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X-Gnfd-Unsigned-Msg: 7b226275636b65745f6e616d65223a22676e666431222c22636f6e74656e745f74797065223a22696d6167652f6a706567222c2263726561746f72223a22307831343533393334333431334542343738393942303933353238376162313131314466383931643034222c226578706563745f636865636b73756d73223a5b222f76366c6a4a7a494450586475463533536b4f646938627437474b3733705654447771344e387177626f383d222c22424370395a4b574237793770672f49515749416377315a6a7477586d785639692b6f3450474f7a4843596b3d222c22544a2f69545168347679786d57384f7670637238616b65394c307a6d364772544f62684f4b6867472b76593d222c225157374e39746d30692b5a616a46454849775352626b55797137426c744e2f574e437647647a4e65632b513d222c22474b6a6235412f6358784e78374c2f6339502b786a664258665a314a367266666c61336d645679335069773d222c226f6330394c58714d386a5a634945714679787246424436714f35794e474752764c6e744e303155373533673d222c2252342f64435943716a6c49646a6d76616f75316c4743494c3234356a736d6c57574147327152456130314d3d225d2c226578706563745f7365636f6e646172795f73705f616464726573736573223a5b22307866303430426161443439363638343264414638336135333630343861323543663865464639656130222c22307843313137453331394345304335344331433546306533453539423636343763356135463063336138222c22307836644538313032353062333430353936353765324338323044363735323332613944383834363539222c22307863613830374135386361463230423661344533654461333533313738383137394535626338313662222c22307832304262373644303633613664324231384236446142623261433938353233346134423965446530222c22307861333565443939413062344432364266374637344443394438314662664142364137663130334466225d2c226f626a6563745f6e616d65223a22e4b8ade69687222c227061796c6f61645f73697a65223a2232303438222c227072696d6172795f73705f617070726f76616c223a7b22657870697265645f686569676874223a2230222c22736967223a6e756c6c7d2c22726564756e64616e63795f74797065223a22524544554e44414e43595f45435f54595045222c227669736962696c697479223a225649534942494c4954595f545950455f50524956415445227d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="x-gnfd-signed-msg">X-Gnfd-Signed-Msg<a class="hash-link" href="#x-gnfd-signed-msg" title="Direct link to heading">​</a></h2><p>X-Gnfd-Signed-Msg is a HTTP response header. SP server will add approval signature to data parsed from <code>X-Gnfd-Unsigned-Msg</code>. Users should use hex decode to decode it into byte array. Then use protobuf json unmarshal byte array. Finnaly broadcast txn to Greenfield chain.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="createbucket-approval-signed-msg-example">CreateBucket approval signed msg example<a class="hash-link" href="#createbucket-approval-signed-msg-example" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Suppose users get the following signed msg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X-Gnfd-Signed-Msg: 7b226275636b65745f6e616d65223a22676e666431222c22636861726765645f726561645f71756f7461223a223634222c2263726561746f72223a22307831343533393334333431334542343738393942303933353238376162313131314466383931643034222c227061796d656e745f61646472657373223a22307838653432346336446234324164394135643931623234653230623566363033654337306162624133222c227072696d6172795f73705f61646472657373223a22307832316336666632314444373031324445314343663930353566326542323334413434613164336642222c227072696d6172795f73705f617070726f76616c223a7b22657870697265645f686569676874223a2230222c22736967223a6e756c6c7d2c227669736962696c697479223a225649534942494c4954595f38238c8121223189231812</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># use protobuf json unmarshal in string format</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bucket_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gnfd1&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;charged_read_quota&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;64&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;creator&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x14539343413EB47899B0935287ab1111Df891d04&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;payment_address&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x8e424c6Db42Ad9A5d91b24e20b5f603eC70abbA3&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;primary_sp_address&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x21c6ff21DD7012DE1CCf9055f2eB234A44a1d3fB&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;primary_sp_approval&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;expired_height&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;100060&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;sig&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;MTI4OTIzODNoZGo=&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;visibility&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VISIBILITY_TYPE_PRIVATE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="createobject-approval-signed-msg-example">CreateObject approval signed msg example<a class="hash-link" href="#createobject-approval-signed-msg-example" title="Direct link to heading">​</a></h3><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Suppose users get the following signed msg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X-Gnfd-Signed-Msg: 7b226275636b65745f6e616d65223a22676e666431222c22636f6e74656e745f74797065223a22696d6167652f6a706567222c2263726561746f72223a22307831343533393334333431334542343738393942303933353238376162313131314466383931643034222c226578706563745f636865636b73756d73223a5b222f76366c6a4a7a494450586475463533536b4f646938627437474b3733705654447771344e387177626f383d222c22424370395a4b574237793770672f49515749416377315a6a7477586d785639692b6f3450474f7a4843596b3d222c22544a2f69545168347679786d57384f7670637238616b65394c307a6d364772544f62684f4b6867472b76593d222c225157374e39746d30692b5a616a46454849775352626b55797137426c744e2f574e437647647a4e65632b513d222c22474b6a6235412f6358784e78374c2f6339502b786a664258665a314a367266666c61336d645679335069773d222c226f6330394c58714d386a5a634945714679787246424436714f35794e474752764c6e744e303155373533673d222c2252342f64435943716a6c49646a6d76616f75316c4743494c3234356a736d6c57574147327152456130314d3d225d2c226578706563745f7365636f6e646172795f73705f616464726573736573223a5b22307866303430426161443439363638343264414638336135333630343861323543663865464639656130222c22307843313137453331394345304335344331433546306533453539423636343763356135463063336138222c22307836644538313032353062333430353936353765324338323044363735323332613944383834363539222c22307863613830374135386361463230423661344533654461333533313738383137394535626338313662222c22307832304262373644303633613664324231384236446142623261433938353233346134423965446530222c22307861333565443939413062344432364266374637344443394438314662664142364137663130334466225d2c226f626a6563745f6e616d65223a22e4b8ade69687222c227061796c6f61645f73697a65223a2232303438222c227072696d6172795f73705f617070726f76616c223a7b226372723392882393932392a3292323939120210b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># use protobuf json unmarshal in string format</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;bucket_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;gnfd1&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;content_type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;image/jpeg&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;creator&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x14539343413EB47899B0935287ab1111Df891d04&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;expect_checksums&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/v6ljJzIDPXduF53SkOdi8bt7GK73pVTDwq4N8qwbo8=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;BCp9ZKWB7y7pg/IQWIAcw1ZjtwXmxV9i+o4PGOzHCYk=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;TJ/iTQh4vyxmW8Ovpcr8ake9L0zm6GrTObhOKhgG+vY=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;QW7N9tm0i+ZajFEHIwSRbkUyq7BltN/WNCvGdzNec+Q=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;GKjb5A/cXxNx7L/c9P+xjfBXfZ1J6rffla3mdVy3Piw=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;oc09LXqM8jZcIEqFyxrFBD6qO5yNGGRvLntN01U753g=&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;R4/dCYCqjlIdjmvaou1lGCIL245jsmlWWAG2qREa01M=&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;expect_secondary_sp_addresses&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;0xf040BaaD4966842dAF83a536048a25Cf8eFF9ea0&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xC117E319CE0C54C1C5F0e3E59B6647c5a5F0c3a8&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0x6dE810250b34059657e2C820D675232a9D884659&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xca807A58caF20B6a4E3eDa3531788179E5bc816b&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0x20Bb76D063a6d2B18B6DaBb2aC985234a4B9eDe0&quot;</span><span class="token plain">, </span><span class="token string" style="color:#e3116c">&quot;0xa35eD99A0b4D26Bf7F74DC9D81FbfAB6A7f103Df&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;object_name&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;myobject&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;payload_size&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2048&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;primary_sp_approval&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;expired_height&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;300451&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;sig&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;dXd1dzI4MzIyMzgz&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;redundancy_type&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;REDUNDANCY_EC_TYPE&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;visibility&quot;</span><span class="token builtin class-name">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;VISIBILITY_TYPE_PRIVATE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><div class="col col--12"><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/bnb-chain/opbnb-docs/docs/api-sdk/storgae-provider-rest/referenece/gnfd_headers.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></div></article><div class="col col--12"><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#authorization-header" class="table-of-contents__link toc-highlight">Authorization header</a><ul><li><a href="#authentication-type" class="table-of-contents__link toc-highlight">Authentication type</a></li><li><a href="#encryption-algorithm-type" class="table-of-contents__link toc-highlight">Encryption algorithm type</a></li><li><a href="#the-step-of-generating-authorization-header" class="table-of-contents__link toc-highlight">The step of generating authorization header</a></li><li><a href="#authorization-header-example" class="table-of-contents__link toc-highlight">Authorization header example</a></li><li><a href="#code-examples-in-greenfield-go-sdk" class="table-of-contents__link toc-highlight">Code examples in Greenfield Go SDK</a></li></ul></li><li><a href="#x-gnfd-unsigned-msg-header" class="table-of-contents__link toc-highlight">X-Gnfd-Unsigned-Msg header</a><ul><li><a href="#createbucket-approval" class="table-of-contents__link toc-highlight">CreateBucket approval</a></li><li><a href="#createbucket-approval-unsigned-msg-example" class="table-of-contents__link toc-highlight">CreateBucket approval unsigned msg example</a></li><li><a href="#createbucket-code-examples-in-greenfield-go-sdk" class="table-of-contents__link toc-highlight">CreateBucket code examples in Greenfield Go SDK</a></li><li><a href="#createobject-approval" class="table-of-contents__link toc-highlight">CreateObject approval</a></li><li><a href="#createobject-approval-unsigned-msg-example" class="table-of-contents__link toc-highlight">CreateObject approval unsigned msg example</a></li></ul></li><li><a href="#x-gnfd-signed-msg" class="table-of-contents__link toc-highlight">X-Gnfd-Signed-Msg</a><ul><li><a href="#createbucket-approval-signed-msg-example" class="table-of-contents__link toc-highlight">CreateBucket approval signed msg example</a></li><li><a href="#createobject-approval-signed-msg-example" class="table-of-contents__link toc-highlight">CreateObject approval signed msg example</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/opbnb-docs/assets/js/runtime~main.caf89853.js"></script>
<script src="/opbnb-docs/assets/js/main.29781c01.js"></script>
</body>
</html>